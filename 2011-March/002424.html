<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] USB image with storage partition
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20USB%20image%20with%20storage%20partition&In-Reply-To=%3CAANLkTik4DdzVtRM8qqUs%2BRwSbUkdNBUnQkp6xH_okEeU%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002419.html">
   <LINK REL="Next"  HREF="002425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] USB image with storage partition</H1>
    <B>Chris Cunha</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20USB%20image%20with%20storage%20partition&In-Reply-To=%3CAANLkTik4DdzVtRM8qqUs%2BRwSbUkdNBUnQkp6xH_okEeU%40mail.gmail.com%3E"
       TITLE="[Kiwi-users] USB image with storage partition">eportel6607 at gmail.com
       </A><BR>
    <I>Sat Mar  5 03:22:18 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002419.html">[Kiwi-users] Read-Only NFS + UNIONFS_CONFIG
</A></li>
        <LI>Next message: <A HREF="002425.html">[Kiwi-users] USB image with storage partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Mar 4, 2011 at 9:22 AM, Matt Barringer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">mbarringer at suse.de</A>&gt; wrote:
&gt;<i> On Fri, 4 Mar 2011, Chris Cunha wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hmmm &#160;I have to try to get this to work otherwise this project is a
</I>&gt;&gt;<i> total waste of time.
</I>&gt;&gt;<i> I'm almost positive that Matt (the author of Image Writer) told me
</I>&gt;&gt;<i> that this would work. &#160;Today I'm going to look at my notes on what he
</I>&gt;&gt;<i> said (3 months ago) and see if he recommended to do anything different
</I>&gt;&gt;<i> to achieve what I'm looking for.
</I>&gt;<i>
</I>&gt;<i> I didn't even think about Windows having a problem with the disk, I just
</I>&gt;<i> assumed it would be smart enough to read the partition table and mount the
</I>&gt;<i> FAT32 slice. &#160;Mea culpa, sorry.
</I>&gt;<i>
</I>&gt;<i> It looks like you have to tell Windows that the drive is &quot;non-removable&quot;,
</I>&gt;<i> which is pretty strange, but that's Windows for you:
</I>&gt;<i> <A HREF="http://www.uwe-sieber.de/usbtrouble_e.html">http://www.uwe-sieber.de/usbtrouble_e.html</A> (under &quot;On flash drive only the
</I>&gt;<i> first partition works&quot;)
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Matt Barringer, Software Engineer
</I>&gt;<i> SUSE Linux Products GmbH, GF: Markus Rex, HRB 16746 (AG N&#252;rnberg)
</I>&gt;<i> <A HREF="http://susestudio.com">http://susestudio.com</A> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <A HREF="http://www.novell.com/linux">http://www.novell.com/linux</A>
</I>
Hi Guys,
Hey Matt I didn't know you monitor this ML.  Cool.
First off I should say that I didn't mean any disrespect about my
&quot;waste of time&quot; statement.  I can't thank you guys enough already for
the help you guy gave me.   It's just that I've been working to
produce two major Linux products for the last three years and have
been stopped many times by problems similar to this one.  It's so
frustrating being so close but never seeming to get there.

Anyway here is what I've tried so far.
As a test I took the drive and using the Windows format to make a fat
partition. Windows of course sees it just fine.  Linux does also.
I then started Yast (parted) partitioning software and removed all
partitions on this 1gb drive. The drive itself is sdf.  I made sdf1 be
the Fat partition and sdf2 to be the linux partion.  I &quot;dd&quot; the iso to
the sdf2.  I tried booting from it...no go.  I stuck it in a Win
machine.  The fat partition was available.  I then reversed the
partitions.  So sdf1 was the iso and sdf2 was the fat partition.  It
boots fine but when I put it in a Win machine it wants to format the
drive!!  I'm going to SNAP!
I tried also to change the hex digit in the string on the drive
itself...no go.  This has to be done in Windows with some software
that Matt pointed out.
I also tried changing the driver in Windows for this USB drive.  This
didn't work either however I need to try it again as I think I missed
a critical step.

So it appears that you can't boot off a USB drive it the boot sector
is anything but partition 1 and Windows won't see the USB drive if
it's anything but partition 1!!  Honestly modifying the USB to be a
internal drive is an option but so far as I expected nothing is
working.  Windows is pretty stupid when It comes to removable media
that's for sure.

Question.  When you look at a usb drive on the partition software it
would show up as sdf.  Ok so sdf is the drive itself it seems. I
noticed that I can either create another partition (sdf1) for the
bootable linux iso..or i can dump it on sdf.  What is the difference?
Then should the fat partition go on sdf1 (if the os bootable iso is on
sdf) or should it go on sdf2?
c

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002419.html">[Kiwi-users] Read-Only NFS + UNIONFS_CONFIG
</A></li>
	<LI>Next message: <A HREF="002425.html">[Kiwi-users] USB image with storage partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
