<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] kiwi autostart app/script or other means
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20kiwi%20autostart%20app/script%20or%20other%20means&In-Reply-To=%3CAANLkTimSBJm4kDZ9cUjT5nNL00zwRCGhUgdxh_yC5zmU%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002575.html">
   <LINK REL="Next"  HREF="002581.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] kiwi autostart app/script or other means</H1>
    <B>Chris Cunha</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20kiwi%20autostart%20app/script%20or%20other%20means&In-Reply-To=%3CAANLkTimSBJm4kDZ9cUjT5nNL00zwRCGhUgdxh_yC5zmU%40mail.gmail.com%3E"
       TITLE="[Kiwi-users] kiwi autostart app/script or other means">eportel6607 at gmail.com
       </A><BR>
    <I>Wed Mar 30 13:51:37 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002575.html">[Kiwi-users] kiwi autostart app/script or other means
</A></li>
        <LI>Next message: <A HREF="002581.html">[Kiwi-users] kiwi autostart app/script or other means
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2579">[ date ]</a>
              <a href="thread.html#2579">[ thread ]</a>
              <a href="subject.html#2579">[ subject ]</a>
              <a href="author.html#2579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Mar 30, 2011 at 3:32 AM, e.waelde &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">ew.ng7125 at nassur.net</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 03/30/2011 04:53 AM, Chris Cunha wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Guys I'm trying to run two scripts. &#160;One a login and one at logout or
</I>&gt;&gt;<i> halt/shutdown.
</I>&gt;<i>
</I>&gt;<i> Question: which user is logged in? root? some other?
</I>&gt;<i> If some other, then ~/.login, ~/.bashrc and the like (man bash)
</I>&gt;<i> are the place to run a script. Beware that a user can request
</I>&gt;<i> new shells to run as login shells, so the script should be
</I>&gt;<i> tolerant to be run again.
</I>&gt;<i>
</I>&gt;<i> Use ~/.logout for the script at the end.
</I>&gt;<i>
</I>&gt;<i> Another place is in the script that starts X and kde/gnome/xfce...
</I>&gt;<i> ~/.xinitrc could be the place, but can be modified by the user.
</I>&gt;<i>
</I>&gt;<i> If you need to run the scripts as root before/after login of
</I>&gt;<i> some other user, then maybe PAM could be of help, but I
</I>&gt;<i> wouldn't know.
</I>&gt;<i>
</I>&gt;<i> If this is independent of users, and needs to be run an bootup
</I>&gt;<i> and shutdown as root, then /etc/init.d/boot.local and the like
</I>&gt;<i> are the correct place. Please note that $PATH may be reset
</I>&gt;<i> at the beginning of /etc/init.d/-scripts and may not include
</I>&gt;<i> all expected locations. Absolute pathnames to rescue.
</I>&gt;<i>
</I>&gt;<i> Not sure, if this answers your question.
</I>&gt;<i> Erich
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &#160;I did get the shut down script to run by adding the
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> command to (trigger the script) the /etc/init.rd/halt.local.
</I>&gt;&gt;<i> However I've tried every way that I know how to trigger this script to
</I>&gt;&gt;<i> run upon login and it hasn't ran once.
</I>&gt;&gt;<i> Attempts include
</I>&gt;&gt;<i> &#160;1) creating a .desktop file in the ~/.config/autostart that points to
</I>&gt;&gt;<i> the script. &#160;When I click on this .desktop file it will run the script
</I>&gt;&gt;<i> no problem. &#160;If I run the command for the script manually it will also
</I>&gt;&gt;<i> run no problem.
</I>&gt;&gt;<i> 2) I've added the script directly to the ~/config/autostart
</I>&gt;&gt;<i> folder....didn't work
</I>&gt;&gt;<i> 3) I've added the command for the script directly to the
</I>&gt;&gt;<i> /etc/init.rd/boot.local...didn't work
</I>&gt;&gt;<i> 4) I've renamed the scripts with a &quot;.sh&quot; extension....didn't work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oddly I have a .desktop file (located in the ~/config/autostart
</I>&gt;&gt;<i> folder) that exec a script for auto locating and mounting the fat
</I>&gt;&gt;<i> partition on the flash drive and this same script changes the Windows
</I>&gt;&gt;<i> attributes so certain files and folders are hidden when viewed in
</I>&gt;&gt;<i> windows. &#160;The strange thing is that the part of the script that
</I>&gt;&gt;<i> locates and mounts the fat partition ALWAYS works...and the hiding
</I>&gt;&gt;<i> (for Windows) of the &quot;boot&quot; folder...always works also. &#160;However there
</I>&gt;&gt;<i> is another file (located in the same exact directory as the &quot;boot&quot;
</I>&gt;&gt;<i> folder) &#160;that only is hidden after booting the image a second time.
</I>&gt;&gt;<i> I've tried adding my Windows attributes parts before the fat locating
</I>&gt;&gt;<i> and mount section...I've tried many things be it still only seems to
</I>&gt;&gt;<i> hide this other file after two boots of the image. &#160; &#160;I have no idea
</I>&gt;&gt;<i> what is going on here but I was wondering if there might be a better
</I>&gt;&gt;<i> way to run a login script. &#160;Can Kiwi help?
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Kiwi-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">Kiwi-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">https://lists.berlios.de/mailman/listinfo/kiwi-users</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Kiwi-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">Kiwi-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">https://lists.berlios.de/mailman/listinfo/kiwi-users</A>
</I>&gt;<i>
</I>Thanks!  I should have described what I'm doing a bit better.  This is
for the Root user only.
I'm using OpenBox with LXDE.  None of the config files that you
mentioned exist in ~.  Are theses config files like .login and .bashrc
something that I can create?  Will that work?  If so what would be the
syntax of the each?

I'll try absolute PATHs but I've never had to do that when using the
.desktop file placed in the ~/.config/autostart...of course with
OpenBox/Lxde I am new working with it.
I guess it would be better if possible that the scripts run at login
and logout rather than at boot and shutdown.  Although having the
logout script (which already works) work on halt/shutdown may be
better than logout because if the user would hit the power button and
bypass the logout phase of shutdown the script would still run.

So guys that this is getting a bit off subject.  I thought maybe Kiwi
may be able to help so I tossed this question up here.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002575.html">[Kiwi-users] kiwi autostart app/script or other means
</A></li>
	<LI>Next message: <A HREF="002581.html">[Kiwi-users] kiwi autostart app/script or other means
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2579">[ date ]</a>
              <a href="thread.html#2579">[ thread ]</a>
              <a href="subject.html#2579">[ subject ]</a>
              <a href="author.html#2579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
