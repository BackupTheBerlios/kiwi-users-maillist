<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Kiwi or package issue?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Kiwi%20or%20package%20issue%3F&In-Reply-To=%3CAANLkTi%3DOEzpFOn4ZzmOXNU7eAxLTg%2BQ719M-scQvqVuX%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002543.html">
   <LINK REL="Next"  HREF="002547.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Kiwi or package issue?</H1>
    <B>Chris Cunha</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Kiwi%20or%20package%20issue%3F&In-Reply-To=%3CAANLkTi%3DOEzpFOn4ZzmOXNU7eAxLTg%2BQ719M-scQvqVuX%40mail.gmail.com%3E"
       TITLE="[Kiwi-users] Kiwi or package issue?">eportel6607 at gmail.com
       </A><BR>
    <I>Thu Mar 24 20:12:07 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002543.html">[Kiwi-users] Kiwi or package issue?
</A></li>
        <LI>Next message: <A HREF="002547.html">[Kiwi-users] Kiwi or package issue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2546">[ date ]</a>
              <a href="thread.html#2546">[ thread ]</a>
              <a href="subject.html#2546">[ subject ]</a>
              <a href="author.html#2546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 24, 2011 at 11:13 AM, Robert Schweikert
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at novell.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;snip&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You can specify the package name including the version number, i.e.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;package name=&quot;blah-1.2.3&quot;/&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> However, be aware that if the upstream package changed the older version
</I>&gt;&gt;&gt;<i> may
</I>&gt;&gt;&gt;<i> have disappeared from the repo.
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Geesss can there be any more variables?!
</I>&gt;<i>
</I>&gt;<i> Welcome to release management.
</I>&gt;<i>
</I>&gt;&gt;<i> So what is the cure for this issue? &#160;I mean if an image is designed
</I>&gt;&gt;<i> around certain packages and my packages are based off the original
</I>&gt;&gt;<i> SUSE versions of them how do I avoid having issue when somebody
</I>&gt;&gt;<i> updates the SUSE packages that mine are based from?
</I>&gt;<i>
</I>&gt;<i> You can always keep a copy of the original packages in you own OBS project.
</I>&gt;<i> When you link a package from another project you have the option to track
</I>&gt;<i> the changes in the originating project or not.
</I>&gt;<i>
</I>&gt;&gt;<i> All I want to do is have a consistent base to build from.
</I>&gt;<i>
</I>&gt;<i> Don't include devel repositories from OBS, be careful which update repos you
</I>&gt;<i> include. Based on your earlier description I would say you are probably
</I>&gt;<i> pulling packages from a devel repo.
</I>&gt;<i>
</I>&gt;<i> If you stick to 11.x and 11.x update repos changes as you describe them
</I>&gt;<i> should not happen. You have got to develop an understanding of how projects
</I>&gt;<i> in OBS work and what their package update policy is, as well as getting an
</I>&gt;<i> understanding about how the moving pieces fit together. Based on that you
</I>&gt;<i> need to be mindful about the repositories you configure in config.xml.
</I>&gt;<i>
</I>&gt;&gt;<i> Should I be
</I>&gt;&gt;<i> making my branding package in such as way that they don't depend on
</I>&gt;&gt;<i> anything else?
</I>&gt;<i>
</I>&gt;<i> Not necessarily, you just have to look at your dependencies and evaluate
</I>&gt;<i> what the effects of changes might be. If you think there might be adverse
</I>&gt;<i> effects you can lock down the dependency on a specific version.
</I>&gt;<i>
</I>&gt;<i> Requires: blah = 0.9.9
</I>&gt;<i>
</I>&gt;<i> instead of using
</I>&gt;<i>
</I>&gt;<i> Requires: blah &gt;= 0.9.9
</I>&gt;<i>
</I>&gt;<i> or
</I>&gt;<i>
</I>&gt;<i> Requires: blah
</I>&gt;<i>
</I>&gt;&gt;<i> It just seems for every step forward that I make I
</I>&gt;&gt;<i> take 4 steps backwards due to unforeseen changes or issues. &#160;Don't get
</I>&gt;&gt;<i> me wrong I'm learning alot and have a long way to go in that area but
</I>&gt;&gt;<i> time wise this is killing me.
</I>&gt;<i>
</I>&gt;<i> Well, it appears to me that you're in way over your head. You jumped off the
</I>&gt;<i> cliff and are now flying by the seat of your pants. This mode of learning
</I>&gt;<i> can be very frustrating, but it can also be very rewarding. It is in any
</I>&gt;<i> event more time consuming than a more methodical approach.
</I>&gt;<i>
</I>&gt;<i> Anyway,
</I>&gt;<i>
</I>&gt;&gt;<i> Am I doing something wrong?
</I>&gt;<i>
</I>&gt;<i> no, not necessarily. You just need to get your head around how the various
</I>&gt;<i> pieces of the puzzle fit together and be more mindful of your dependencies
</I>&gt;<i> and where you pull things from to create your image.
</I>&gt;<i>
</I>&gt;<i> Later,
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Robert Schweikert &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; MAY THE SOURCE BE WITH YOU
</I>&gt;<i> Novell-IBM Software Integration Center &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;LINUX
</I>&gt;<i> Tech Lead
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at novell.com</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at ca.ibm.com</A>
</I>&gt;<i> 781-464-8147
</I>&gt;<i>
</I>&gt;<i> Novell
</I>&gt;<i> Making IT Work As One
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Kiwi-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">Kiwi-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">https://lists.berlios.de/mailman/listinfo/kiwi-users</A>
</I>&gt;<i>
</I>
Hi Robert.  I need a systematic (Step 1....Step 2) to understand and
learn more about rpm building.  Is there a good tutorial from SUSE or
maybe tips or something that may have worked for you guys to learn
this stuff better?  This is waaay too stressful doing this by the seat
of my pants.

In this last build had only these repos enabled.
&lt;repository type=&quot;rpm-md&quot;&gt;
		&lt;source path=&quot;<A HREF="http://download.opensuse.org/repositories/home:/eportel6607:/SOS/openSUSE_11.3">http://download.opensuse.org/repositories/home:/eportel6607:/SOS/openSUSE_11.3</A>&quot;/&gt;
	&lt;/repository&gt;
	&lt;repository type=&quot;rpm-md&quot;&gt;
		&lt;source path=&quot;<A HREF="http://download.opensuse.org/repositories/X11:/lxde/openSUSE_11.3/">http://download.opensuse.org/repositories/X11:/lxde/openSUSE_11.3/</A>&quot;/&gt;
	&lt;/repository&gt;
	&lt;repository type=&quot;yast2&quot;&gt;
		&lt;source path=&quot;<A HREF="opensuse://11.3/repo/non-oss/">opensuse://11.3/repo/non-oss/</A>&quot;/&gt;
	&lt;/repository&gt;
	&lt;repository type=&quot;rpm-md&quot;&gt;
		&lt;source path=&quot;<A HREF="http://ftp.uni-erlangen.de/pub/mirrors/packman/suse/11.3/">http://ftp.uni-erlangen.de/pub/mirrors/packman/suse/11.3/</A>&quot;/&gt;
	&lt;/repository&gt;
	&lt;repository type=&quot;yast2&quot;&gt;
		&lt;source path=&quot;<A HREF="opensuse://11.3/repo/oss/">opensuse://11.3/repo/oss/</A>&quot;/&gt;
	&lt;/repository&gt;
I did have an update repo enabled but that was for some Broadcom
drivers...which didn't work anyway.

In this last kiwi build of this image  the SUSE graphics that where
being used for this package (lxde-common-branding-openSUSE) has
definitly changed...so I guess it's safe to say that this package has
been update.  Although when I checked the package on OBS there is no
changes to it in the last 6 months.

After the OS from this image is up and running I open a terminal and
mimiced what the config.sh script would do.
Which is:
 rpm -e --nodeps lxde-common-branding-openSUSE-11.3-54.2.noarch
rpm -i /opt/SOS/lxde-common-branding-SOS-11.3-32.1.noarch.rpm
rpm -e --nodeps desktop-data-openSUSE-11.3-1.3.noarch
rpm -i /opt/SOS/desktop-data-SOS-11.3-15.1.noarch.rpm

When I run the first command it indicates that the package isn't
installed...which means that the config.sh script did in fact
uninstall it.
When I run the second command it get an error that reads &quot;failed
dependencies:desktop-data-openSUSE is needed by lxde-commond
branding-SOS.
When I try to install the desktop-data-openSUSE package I get &quot;failed
Subprocess failed. Error: rpm failed: warning:
/etc/kde4/kdm/backgroundrc saved as /etc/kde4/kdm/backgrounds.rpmsave
 Error: unpacking of archive failed on file/usr/share/icons/default:
cpio rename failed&quot;......and it goes on and on.

So installing this package isn't possible.

I'm doing a rebuild right now.  I noticed that in the spec file of my
lxde-common-branding-sos package there was a line that read &quot;Requires:
      desktop-data-openSUSE&quot;  I just changed that to
&quot;desktop-data-SOS&quot;.  Yeah I'm in over my head but would really like to
understand this more.

Robert where do I find the original (SUSE)  versions of these package
that I was using?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002543.html">[Kiwi-users] Kiwi or package issue?
</A></li>
	<LI>Next message: <A HREF="002547.html">[Kiwi-users] Kiwi or package issue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2546">[ date ]</a>
              <a href="thread.html#2546">[ thread ]</a>
              <a href="subject.html#2546">[ subject ]</a>
              <a href="author.html#2546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
