<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] config.sh rpm won't install
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20config.sh%20rpm%20won%27t%20install&In-Reply-To=%3C4D8DD215.2010804%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002555.html">
   <LINK REL="Next"  HREF="002557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] config.sh rpm won't install</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20config.sh%20rpm%20won%27t%20install&In-Reply-To=%3C4D8DD215.2010804%40novell.com%3E"
       TITLE="[Kiwi-users] config.sh rpm won't install">rschweikert at novell.com
       </A><BR>
    <I>Sat Mar 26 12:46:29 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002555.html">[Kiwi-users] config.sh rpm won't install
</A></li>
        <LI>Next message: <A HREF="002557.html">[Kiwi-users] config.sh rpm won't install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2556">[ date ]</a>
              <a href="thread.html#2556">[ thread ]</a>
              <a href="subject.html#2556">[ subject ]</a>
              <a href="author.html#2556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Chris,

On 03/25/2011 11:44 PM, Chris Cunha wrote:
&gt;<i> Hi Robert.
</I>&gt;<i> Ok I did the prepare stage of the kiwi build and notice that one of
</I>&gt;<i> the issues was that one of my packages was a dependency for my other
</I>&gt;<i> package. desktop-data-SOS is a dependency for lxde-common-branding..so
</I>&gt;<i> I reversed the order in the script so desktop-data-SOS installs before
</I>&gt;<i> the lxde-common.....
</I>
This would explain the problems.

&gt;<i>
</I>&gt;<i> I ran the kiwi --prepare again and here is the log for the output.  I
</I>&gt;<i> did add the -v verbose to the package install command in config.sh
</I>&gt;<i> <A HREF="http://paste2.org/p/1325746">http://paste2.org/p/1325746</A>
</I>
Taking a look at the log I notice the following warning:

insserv: warning: script 'SOS_firstboot' missing LSB tags and overrides
insserv: Default-Start undefined, assuming default start runlevel(s) for 
script `SOS_firstboot'
insserv: warning: script 'suse_studio_firstboot' missing LSB tags and 
overrides
insserv: Default-Start undefined, assuming default start runlevel(s) for 
script `suse_studio_firstboot'

You should fix these problems. Take a look at an init script supplied by 
the distribution to see what content is expected.


Then there is still something in your script that causes an error, the 
logfile contains the following:

warning: /opt/SOS/lxde-common-branding-SOS-11.3-33.1.noarch.rpm: Header 
V3 DSA/SHA1 Signature, key ID 32c0052c: NOKEY
Preparing packages for installation...
lxde-common-branding-SOS-11.3-33.1
Mar-25 19:54:18 &lt;3&gt; : Couldn't setup image system   failed

The &quot;Preparing packages for installation...&quot; message is printed by rpm 
indicating that lxde-common-branding-SOS-11.3-33.1 is to be installed. 
It appears that the command fails for some reason as the next message 
you get is &quot;Couldn't setup image system   failed&quot;. This message is 
written by Kiwi after it detects that your config.sh file exited with a 
non zero exit status.

So something is still wrong with the package installation of your 
branding package.

HTH,
Robert


-- 
Robert Schweikert                           MAY THE SOURCE BE WITH YOU
Novell-IBM Software Integration Center                LINUX
Tech Lead
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at novell.com</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at ca.ibm.com</A>
781-464-8147

Novell
Making IT Work As One

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002555.html">[Kiwi-users] config.sh rpm won't install
</A></li>
	<LI>Next message: <A HREF="002557.html">[Kiwi-users] config.sh rpm won't install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2556">[ date ]</a>
              <a href="thread.html#2556">[ thread ]</a>
              <a href="subject.html#2556">[ subject ]</a>
              <a href="author.html#2556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
