<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Fwd: USB image with storage partition
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Fwd%3A%20USB%20image%20with%20storage%20partition&In-Reply-To=%3CAANLkTimcRACn9bmDKaOg5B6JTjUPUpGZGwEeXujS%3DF%2BX%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002505.html">
   <LINK REL="Next"  HREF="002509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Fwd: USB image with storage partition</H1>
    <B>Chris Cunha</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Fwd%3A%20USB%20image%20with%20storage%20partition&In-Reply-To=%3CAANLkTimcRACn9bmDKaOg5B6JTjUPUpGZGwEeXujS%3DF%2BX%40mail.gmail.com%3E"
       TITLE="[Kiwi-users] Fwd: USB image with storage partition">eportel6607 at gmail.com
       </A><BR>
    <I>Thu Mar 17 22:18:21 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002505.html">[Kiwi-users] Fwd: USB image with storage partition
</A></li>
        <LI>Next message: <A HREF="002509.html">[Kiwi-users] Fwd: USB image with storage partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2507">[ date ]</a>
              <a href="thread.html#2507">[ thread ]</a>
              <a href="subject.html#2507">[ subject ]</a>
              <a href="author.html#2507">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 17, 2011 at 3:19 PM, Robert Schweikert
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at novell.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;snip&gt;
</I>
&gt;&gt;<i> So that means if I configured that .desktop file on the users Desktop
</I>&gt;&gt;<i> to point at  /media it should work but after the first boot and
</I>&gt;&gt;<i> not the first?
</I>&gt;<i>
</I>&gt;<i> My first reaction would be that this should always work, but I could be
</I>&gt;<i> mistaken.
</I>&gt;<i>
</I>Ok it's confirm that it does work pointing the .desktop file at the
&quot;/media&quot; folder.  However this is not ideal as it forces the end user
to be in /media..then there is a random named folder (that is the USB
drive/partition) that must be entered.  Once in this randomly named
folder the boot folder is here and I would like to have a Storage
folder in this location that can be directly accessed from the
.desktop file.

&gt;<i>
</I>&gt;&gt;<i> &#160;The strange thing is now that we switched the config for this image
</I>&gt;&gt;<i> from an ISO to and OEM my other test machine (on first or there after
</I>&gt;&gt;<i> boot) doesn't show this fat partition in file manager nor does it show
</I>&gt;&gt;<i> the existing hard drive of this test machine. &#160;In fact I can find the
</I>&gt;&gt;<i> fat partition on this other test machine at all. &#160;It's not in /media
</I>&gt;&gt;<i> and and there is no lxboot dir...This is killing me! &#160;Any idea how one
</I>&gt;&gt;<i> machine can show a different results than another using the same
</I>&gt;&gt;<i> image?
</I>&gt;<i>
</I>&gt;<i> Sorry I am confused in the text leading up to your question you imply that
</I>&gt;<i> the behavior is different between OEM and ISO image, then in your question
</I>&gt;<i> you say that the behavior is different for the same image.
</I>&gt;<i>
</I>&gt;<i> ????
</I>&gt;<i>
</I>&gt;<i> Later,
</I>&gt;<i> Robert
</I>
Ok Sorry Robert that is a bit unclear.  I'm testing on two computers.
A dual core notebook and an older P4 desktop. Both can boot from USB.
 On the notebook computer if I boot the current (OEM) image I can see
the existing hard drive (installed in this machine) and fat partition
(the storage partition on the USB drive that I'm running the OS from)
within the file manager and if I click on the now tested .desktop icon
located on the users desktop it opens the file manager to /media.
If I take the same USB drive and boot it on the older P4 desktop
computer I can't see the existing hard drive installed on that machine
nor can I see or access the USB's fat partition.  I can't even find
the fat storage partition!   It's the same OS image from the same USB
drive. The same fat partition, yet the desktop computer won't display
any of the other partitions. What would cause this to happen?  Nothing
has changed.  I simply took the USB drive with the live OS on it out
of the notebook and booted it on the Desktop!

Also the reason why I mentioned the ISO vs the OEM image is two weeks
ago, before you guys were helping me with this OEM image I was using
an ISO image.  When I was using an ISO type image I'm almost positive
that the &quot;missing&quot; partitions on the older P4 desktop computer did
actually show up.


  &gt;&gt;  Wow...sorry about all these separate post but I keep testing and find
  &gt;&gt; other questions.
  &gt;&gt; The way things currently work the fat partition contains a &quot;boot&quot;
  &gt;&gt; directory that holds the critical boot files for the OS.  As of right
  &gt;&gt;  now I don't see a way to keep the end user out of the boot folder.
  &gt;&gt;  Due to the boot folder being on the fat partition and there doesn't
  &gt;&gt;  seem to be a way to create a &quot;Storage&quot; folder on this fat partition
  &gt;&gt;  and have the .desktop file point to it, it seems that the .desktop
  &gt;&gt;  file must be pointed to the /media folder.


&gt;<i> But, you are in control of the &quot;automount&quot; behavior of your desktop environment. You can create any directory you want and then in &gt; /etc/boot.local write a couple of lines of code to find the FAT partition; then mount it to the directory of your choice.
</I>
&gt;<i> Of course you cannot control any of this when a user plugs the USB stick into a Windoze machine, they can easily mess with stuff &gt; on the stick and make the system unusable.
</I>
Robert I don't have a /etc/boot.local file.  I'm very interested in
learning the code to first find the fat partition and mounting it to a
specific folder/mount point.  I don't mind that the fat partition
contains the boot folder it's just that I want to place the end user
inside another folder (like &quot;Storage&quot;) so that they will be less
likely to mess around in the boot folder...although like you said, on
the Windows side there little that can be done about seeing or messing
with files within the boot folder.

&gt;<i> I don't know how Windoze would react to a stick with 2 FAT partitions at the beginning.
</I>
I'm not it wouldn't react to well to two fat partition as Windows only
seems to like one and it must be the first one.  Otherwise it will
prompt the user to format the drive.

Thanks Robert very much for taking the time to answer my questions.  I
really appreciate it.

Chris

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002505.html">[Kiwi-users] Fwd: USB image with storage partition
</A></li>
	<LI>Next message: <A HREF="002509.html">[Kiwi-users] Fwd: USB image with storage partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2507">[ date ]</a>
              <a href="thread.html#2507">[ thread ]</a>
              <a href="subject.html#2507">[ subject ]</a>
              <a href="author.html#2507">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
