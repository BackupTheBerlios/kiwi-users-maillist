<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] building 32bit images on 64bit machine
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20building%2032bit%20images%20on%2064bit%20machine&In-Reply-To=%3C200903161643.11849.scrute%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001013.html">
   <LINK REL="Next"  HREF="001031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] building 32bit images on 64bit machine</H1>
    <B>Simon Crute</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20building%2032bit%20images%20on%2064bit%20machine&In-Reply-To=%3C200903161643.11849.scrute%40novell.com%3E"
       TITLE="[Kiwi-users] building 32bit images on 64bit machine">scrute at novell.com
       </A><BR>
    <I>Mon Mar 16 17:43:11 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001013.html">[Kiwi-users] building 32bit images on 64bit machine
</A></li>
        <LI>Next message: <A HREF="001031.html">[Kiwi-users] building 32bit images on 64bit machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1019">[ date ]</a>
              <a href="thread.html#1019">[ thread ]</a>
              <a href="subject.html#1019">[ subject ]</a>
              <a href="author.html#1019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 16 March 2009 13:12:40 Marcus Sch&#228;fer wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; [edit:] Actually, it didn't. It built the image but it still has a 64bit
</I>&gt;<i> &gt; boot loader...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But I still had to modify the config file. It seems the
</I>&gt;<i> &gt; opensusePattern directive does now like having an arch= parameter on it.
</I>&gt;<i> &gt; :(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Should I log that as a bug ?
</I>&gt;<i>
</I>&gt;<i> I'm sorry I have to disagree here. If you prefix _all_ kiwi calls with
</I>&gt;<i> linux32 and your source repo provide the 32bit packages the package manager
</I>&gt;<i> will pick up the correct package
</I>
Doh,
I was being a bit stupid there.  I didn't put the linux32 call before the 
create step !!

However, I still think there's a problem with the arch= parameter. 64bit sled 
has some patterns that are not available on 32bit sled. (e.g. x11-32bit) 
so, if I try to build the 32bit image when the line
 &lt;opensusePattern name=&quot;x11-32bit&quot;&gt; 
is in there, it fails. However if I put in 
&lt;opensusePattern name=&quot;x11-32bit&quot; arch=&quot;x86_64&quot;/&gt;
that fails the XML check. 


&gt;<i> &gt; I also had to build aufs packages form a 32bit machine and add them into
</I>&gt;<i> &gt; the /usr/share/kiwi/repo/suse-repo/suse-sle11-repo/ directory and update
</I>&gt;<i> &gt; the /usr/share/kiwi/image/isoboot/suse-SLED11/config.xml to add aufs in
</I>&gt;<i> &gt; for the init ramdisk to be able to read the aufs file system.
</I>&gt;<i> &gt; Do you want these as a bug too ?
</I>&gt;<i>
</I>&gt;<i> aufs is not and will not be supported officially. So I have added
</I>&gt;<i> it by default to those boot image descriptions which provides aufs
</I>&gt;<i> as part of the distribution. All enterprise products will not have aufs
</I>&gt;<i> on board. That's not a bug
</I>
Fair enough. But, when I try to build an iso image for sled11, it seems to 
depend on AUFS in some way. Without editing the  
/usr/share/kiwi/image/isoboot/suse-SLED11/config.xml it fails to boot the ISO 
as aufs seems to be used in it's building. I'll double check the main 
config.xml file and see where that got pulled in from. 


-- 
Simon Crute
Novell IS&amp;T
UK

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001013.html">[Kiwi-users] building 32bit images on 64bit machine
</A></li>
	<LI>Next message: <A HREF="001031.html">[Kiwi-users] building 32bit images on 64bit machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1019">[ date ]</a>
              <a href="thread.html#1019">[ thread ]</a>
              <a href="subject.html#1019">[ subject ]</a>
              <a href="author.html#1019">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
