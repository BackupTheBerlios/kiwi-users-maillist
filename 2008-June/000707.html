<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Problems with: kiwi --type usb --create	/tmp/kiwi-tmp -d /tmp/kiwi-image --logfile terminal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Problems%20with%3A%20kiwi%20--type%20usb%0A%20--create%09/tmp/kiwi-tmp%20-d%20/tmp/kiwi-image%20--logfile%20terminal&In-Reply-To=%3C48569020.1000607%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000703.html">
   <LINK REL="Next"  HREF="000661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Problems with: kiwi --type usb --create	/tmp/kiwi-tmp -d /tmp/kiwi-image --logfile terminal</H1>
    <B>Kai Wuttke</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Problems%20with%3A%20kiwi%20--type%20usb%0A%20--create%09/tmp/kiwi-tmp%20-d%20/tmp/kiwi-image%20--logfile%20terminal&In-Reply-To=%3C48569020.1000607%40gmx.de%3E"
       TITLE="[Kiwi-users] Problems with: kiwi --type usb --create	/tmp/kiwi-tmp -d /tmp/kiwi-image --logfile terminal">Kai_Wuttke at gmx.de
       </A><BR>
    <I>Mon Jun 16 18:09:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000703.html">[Kiwi-users] Problems with: kiwi --type usb	--create	/tmp/kiwi-tmp -d /tmp/kiwi-image --logfile terminal
</A></li>
        <LI>Next message: <A HREF="000661.html">[Kiwi-users] Building oemboot split image with 2.38 SVN: Revision:	1311 fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#707">[ date ]</a>
              <a href="thread.html#707">[ thread ]</a>
              <a href="subject.html#707">[ subject ]</a>
              <a href="author.html#707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Marcus Sch&#228;fer schrieb:
|<i> Hi Kai,
</I>|<i>
</I>|&gt;<i> | could you post your config.xml ?
</I>|&gt;<i> |
</I>|&gt;<i> | Thanks
</I>|&gt;<i> |
</I>|&gt;<i> | Regards,
</I>|&gt;<i> | Marcus
</I>|&gt;<i>
</I>|&gt;<i> Hi!
</I>|&gt;<i>
</I>|&gt;<i> I like to do this.
</I>|&gt;<i>
</I>|&gt;<i> Enclosed the desired file is.
</I>|<i>
</I>|<i> Thanks I found the bug, here is a patch:
</I>|<i>
</I>|<i> Index: modules/KIWIBoot.pm
</I>|<i> ===================================================================
</I>|<i> --- modules/KIWIBoot.pm (revision 1331)
</I>|<i> +++ modules/KIWIBoot.pm (working copy)
</I>|<i> @@ -995,11 +995,6 @@
</I>|<i>         $status = qxx (&quot;rm -rf $loopdir/boot&quot;);
</I>|<i>         $status = qxx (&quot;cp -a $tmpdir/boot $loopdir 2&gt;&amp;1&quot;);
</I>|<i>         $result = $? &gt;&gt; 8;
</I>|<i> -       if ($result == 0) {
</I>|<i> -               $status = qxx (&quot;cp $tmpdir/image/loader/message
</I>$loopdir/boot 2&gt;&amp;1&quot;);
|<i> -               $result = $? &gt;&gt; 8;
</I>|<i> -       }
</I>|<i> -       $result = $? &gt;&gt; 8;
</I>|<i>         if ($result != 0) {
</I>|<i>                 $kiwi -&gt; failed ();
</I>|<i>                 $kiwi -&gt; error  (&quot;Couldn't copy boot data to stick:
</I>$status&quot;);
|<i>
</I>|<i>
</I>|<i> I will submit new kiwi version today evening
</I>|<i>
</I>|<i> Regards,
</I>|<i> Marcus
</I>
Hi!

Thanks, thanks, thanks, ...

Ciao Kai


kiwi --bootstick
/tmp/kiwi-image/initrd-usbboot-suse-10.3.i686-2.1.1.splash.gz
- --bootstick-system /tmp/kiwi-image/openSUSE-10.3.i686-2.5.1

Jun-16 17:51:33 &lt;1&gt; : Creating boot USB stick from:
/tmp/kiwi-image/initrd-usbboot-suse-10.3.i686-2.1.1.splash.gz...
Jun-16 17:51:34 &lt;1&gt; : Creating initial boot structure
~                                                        done
Jun-16 17:51:34 &lt;1&gt; : Importing grub stages and graphics boot message
~                                                        done
Jun-16 17:51:35 &lt;1&gt; : Found following removable USB devices:
Jun-16 17:51:35 &lt;1&gt; : ---&gt; 5B821A000200 at /dev/sdc
Jun-16 17:51:35 &lt;1&gt; : Your choice (enter device name): /dev/sdc
Jun-16 17:51:44 &lt;1&gt; : Creating grub menu list file...
~                                                        done
Jun-16 17:51:45 &lt;1&gt; : Establish HAL lock for: /dev/sdc
~                                                        done
Jun-16 17:51:45 &lt;1&gt; : Creating partition table on: /dev/sdc
~                                                        done
Jun-16 17:51:53 &lt;1&gt; : Dumping system image to stick
~                                                        done
Jun-16 17:53:00 &lt;1&gt; : Creating ext3 read/write filesystem
~                                                        done
Jun-16 17:53:22 &lt;1&gt; : Copying boot data to stick
~                                                        done
Jun-16 17:53:24 &lt;1&gt; : Installing grub on virtual disk
~                                                        done
Jun-16 17:53:25 &lt;1&gt; : Removing HAL lock
~                                                        done
Jun-16 17:53:25 &lt;1&gt; : KIWI exited successfully


- --
- ---------------------------------------------------------------
|<i> geschrieben mit Mozilla Thunderbird 2.0 unter openSUSE 10.3 |
</I>- ---------------------------------------------------------------

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.4-svn0 (GNU/Linux)
Comment: Using GnuPG with SUSE - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFIVpAguDk4DUGRzxoRAmBDAJ9uUV6mz+y3cbhINpTNf5hBMfSXJQCfS+zM
yHbJY663fgmr3wF+RPvDGDg=
=Zm9u
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000703.html">[Kiwi-users] Problems with: kiwi --type usb	--create	/tmp/kiwi-tmp -d /tmp/kiwi-image --logfile terminal
</A></li>
	<LI>Next message: <A HREF="000661.html">[Kiwi-users] Building oemboot split image with 2.38 SVN: Revision:	1311 fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#707">[ date ]</a>
              <a href="thread.html#707">[ thread ]</a>
              <a href="subject.html#707">[ subject ]</a>
              <a href="author.html#707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
