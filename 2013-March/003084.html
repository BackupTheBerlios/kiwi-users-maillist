<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] SLEPOS-11SP2 not respecting /home partition
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2013-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20SLEPOS-11SP2%20not%20respecting%20/home%20partition&In-Reply-To=%3C20130315080043.GA6227%40idefix.fritz.box%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003083.html">
   <LINK REL="Next"  HREF="003087.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] SLEPOS-11SP2 not respecting /home partition</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20SLEPOS-11SP2%20not%20respecting%20/home%20partition&In-Reply-To=%3C20130315080043.GA6227%40idefix.fritz.box%3E"
       TITLE="[Kiwi-users] SLEPOS-11SP2 not respecting /home partition">ms at suse.de
       </A><BR>
    <I>Fri Mar 15 09:00:43 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="003083.html">[Kiwi-users] SLEPOS-11SP2 not respecting /home partition
</A></li>
        <LI>Next message: <A HREF="003087.html">[Kiwi-users] SLEPOS-11SP2 not respecting /home partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3084">[ date ]</a>
              <a href="thread.html#3084">[ thread ]</a>
              <a href="subject.html#3084">[ subject ]</a>
              <a href="author.html#3084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i>     I am in the process on upgrading a customer from SLEPOS11 SP1
</I>&gt;<i>    to SP2 and the newer kiwi seems to have lost the hability to use and
</I>&gt;<i>    mantain a /home partition.
</I>&gt;<i>    I am booting the images off a PXE server but not using the SLEPOS
</I>&gt;<i>    provided posldap2crconfig programs as I dont have the hardware to run
</I>&gt;<i>    it in the branch offices.
</I>&gt;<i>    I am using this config.default (where BRANCH is the IP of the local
</I>&gt;<i>    tftp server)
</I>&gt;<i>    IMAGE='/dev/sda2;fasanet;2013.03.14;BRANCH;8192;compressed'
</I>&gt;<i>    PART='1000;S;x,8000;83;/,x;83;/home'
</I>&gt;<i>    JOURNAL=ext3
</I>&gt;<i>    DISK=/dev/sda
</I>&gt;<i>    in SP1 that type of config gave me a /home partition of the rest of the
</I>&gt;<i>    disk after substracting 9gb for swap and / but in SP2 /dev/sda3 gets
</I>&gt;<i>    partitioned but never formatted.
</I>&gt;<i>    am I missing something? or is the functionality gone and I must no do
</I>&gt;<i>    that in my scripts?
</I>
If I remember correctly the functionality has been moved into
project specific hook scripts which can be added to kiwi.

In your case the creation of the home partition filesystem could
be done in the postdownload hook. As soon as there is a filesystem
on it kiwi will also add it to the fstab

if you already have data provided in /home of the core image
you need to move those data to the new home which could also be done
in the postdownload hook

How to use custom hooks is documented here:
<A HREF="http://doc.opensuse.org/projects/kiwi/doc/#sec.hooks">http://doc.opensuse.org/projects/kiwi/doc/#sec.hooks</A>

Hope that helps

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF:  Jeff Hawn,Jennifer Guild, Felix Imend&#246;rffer                  
 HRB: 21284 (AG N&#252;rnberg)       Germany
 <A HREF="http://www.suse.de">http://www.suse.de</A>
 -------------------------------------------------------
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003083.html">[Kiwi-users] SLEPOS-11SP2 not respecting /home partition
</A></li>
	<LI>Next message: <A HREF="003087.html">[Kiwi-users] SLEPOS-11SP2 not respecting /home partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3084">[ date ]</a>
              <a href="thread.html#3084">[ thread ]</a>
              <a href="subject.html#3084">[ subject ]</a>
              <a href="author.html#3084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
