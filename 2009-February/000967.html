<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] why dereference symlinks
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20why%20dereference%20symlinks&In-Reply-To=%3C498D72E1.9080606%40sfgate.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000966.html">
   <LINK REL="Next"  HREF="000969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] why dereference symlinks</H1>
    <B>Vladimir V. Kolpakov</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20why%20dereference%20symlinks&In-Reply-To=%3C498D72E1.9080606%40sfgate.com%3E"
       TITLE="[Kiwi-users] why dereference symlinks">w at sfgate.com
       </A><BR>
    <I>Sat Feb  7 12:39:13 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000966.html">[Kiwi-users] why dereference symlinks
</A></li>
        <LI>Next message: <A HREF="000969.html">[Kiwi-users] why dereference symlinks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#967">[ date ]</a>
              <a href="thread.html#967">[ thread ]</a>
              <a href="subject.html#967">[ subject ]</a>
              <a href="author.html#967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marcus Sch&#228;fer wrote:
&gt;<i> I agree
</I>&gt;<i> a symbolic link in the overlay files should stay a symbolic but
</I>&gt;<i> somehow I think there was a reason for it. Anyway I would change
</I>&gt;<i> it to:
</I>&gt;<i> -               my $copy = &quot;cp -LR --remove-destination&quot;;
</I>&gt;<i> +               my $copy = &quot;cp -dR --remove-destination&quot;;
</I>&gt;<i> I see that's really a hard workaround. The change above would
</I>&gt;<i> almost do &quot;cp -a&quot; the only difference is that I don't want to
</I>&gt;<i> preserve the ownership because the system files has to belong to
</I>&gt;<i> root. The user data is automatically changed to belong to the
</I>&gt;<i> correct user by kiwi.
</I>
Let's look on this from opposite side.

Once there appears some root/ content, it means
something certain for the person who put it there.
Developer implies that content of this tree has final priority
when it goes into build tree, replacing results of
any rpm scriptlets (those are out of our control).
If kiwi comes after, and magically changes humans expectations,
there should be good reason for that, such as incompatibility
with further imaging process.

Anyway, cp -dR will save many lives already ;)
Most important, people who rely on -L behavior already,
got the chance correct it asap.

&gt;<i> So what remains is for example overlay
</I>&gt;<i> files which should belong to &quot;www&quot; or a daemon user. But I guess
</I>&gt;<i> it would be acceptable to have a chown/chgrp call in config.sh
</I>&gt;<i> for that data
</I>
By some reasons (chicken-eggs conflicts, perhaps)
I moved most of fine tuning from config.sh into images.sh.

&gt;<i> it would be great if you can report
</I>&gt;<i> them in the Novell bugzilla system as I use that to track
</I>&gt;<i> bugs and features.
</I>&gt;<i>   Product:   openSUSE.org
</I>&gt;<i>   Component: System_Imaging
</I>
Okay, saved in my pocket, -- thanks.

--w

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000966.html">[Kiwi-users] why dereference symlinks
</A></li>
	<LI>Next message: <A HREF="000969.html">[Kiwi-users] why dereference symlinks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#967">[ date ]</a>
              <a href="thread.html#967">[ thread ]</a>
              <a href="subject.html#967">[ subject ]</a>
              <a href="author.html#967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
