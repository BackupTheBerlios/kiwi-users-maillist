<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Need help with KIWI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Need%20help%20with%20KIWI&In-Reply-To=%3C20100628092843.GA27414%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001859.html">
   <LINK REL="Next"  HREF="001861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Need help with KIWI</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Need%20help%20with%20KIWI&In-Reply-To=%3C20100628092843.GA27414%40D7.ddts.net%3E"
       TITLE="[Kiwi-users] Need help with KIWI">ms at novell.com
       </A><BR>
    <I>Mon Jun 28 11:28:43 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001859.html">[Kiwi-users] Need help with KIWI
</A></li>
        <LI>Next message: <A HREF="001861.html">[Kiwi-users] Need help with KIWI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1860">[ date ]</a>
              <a href="thread.html#1860">[ thread ]</a>
              <a href="subject.html#1860">[ subject ]</a>
              <a href="author.html#1860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> In your description, it is most likely option #2 that is happening for
</I>&gt;<i> me. The whole point of the original problem is that action #2 works
</I>&gt;<i> every single time with images made with kiwi at the time of openSUSE
</I>&gt;<i> 10.3. (In fact, I later use the DHCPSIADDR variable to locate some
</I>&gt;<i> resources. That is why I recognize it.) By contrast, the exact same
</I>&gt;<i> hardware often fails with kiwi images made with kiwi releases for
</I>&gt;<i> openSUSE 11.2. The DHCP server is the same. The only difference is that
</I>&gt;<i> it is serving an 11.2 kiwi image. I cannot understand why one image
</I>&gt;<i> (those made in 10.3) always works, and another (those made in 11.2) have
</I>&gt;<i> a high failure rate at this point in booting.
</I>
The reason could be the dhcp client contacting the server. on 10.3
another client version is used compared to 11.2. I don't have enough
knowledge about dhcp but I had a similar problem in my office when
updating a machine. I had to remove the lease file which was assigned
to this machine in order to make dhcp work again for this client and
the reason was the update of the client 

&gt;<i> &gt;       /var/lib/dhcpcd/dhcpcd-X.info   (X = interface name eg eth0)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    kiwi simply sources that file and it should contain
</I>&gt;<i> &gt;    the DHCPSIADDR or DHCPSID information. If you can't find that
</I>&gt;<i> &gt;    data you should check the dhcpd.conf why it doesn't provide it
</I>&gt;<i> 
</I>&gt;<i> Is it really the dhcp server that provides this? I would have thought
</I>&gt;<i> this was set by the dhcpd client in the kiwi image. I do not think
</I>&gt;<i> anything in my kiwi config touches that. It must be whatever kiwi sets
</I>&gt;<i> up. Perhaps that is where the issue is?
</I>
the dhcp client contacts the server and on success (interface set up)
it writes the .info file mentioned above. kiwi sources that file
and makes use of the variables in there. The contents of the .info
file depends on what the dhcp server exports. That is not related
to kiwi

&gt;<i> Having said all this, I must admit that the details are a bit rusty. It
</I>&gt;<i> was over a year ago that I encountered this. I really should build
</I>&gt;<i> images with the latest kiwi releases and see what happens. Lots has
</I>&gt;<i> changed in kiwi in the last year.
</I>
yep, long time :) but at this point we didn't change much in the
kiwi netboot code

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001859.html">[Kiwi-users] Need help with KIWI
</A></li>
	<LI>Next message: <A HREF="001861.html">[Kiwi-users] Need help with KIWI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1860">[ date ]</a>
              <a href="thread.html#1860">[ thread ]</a>
              <a href="subject.html#1860">[ subject ]</a>
              <a href="author.html#1860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
