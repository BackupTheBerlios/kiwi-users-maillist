<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Tuning ext2/3 filesystem options
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Tuning%20ext2/3%20filesystem%20options&In-Reply-To=%3C1220005510.16986.131.camel%40megam.ott1.byward.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000823.html">
   <LINK REL="Next"  HREF="000826.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Tuning ext2/3 filesystem options</H1>
    <B>Peter Bowen</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Tuning%20ext2/3%20filesystem%20options&In-Reply-To=%3C1220005510.16986.131.camel%40megam.ott1.byward.net%3E"
       TITLE="[Kiwi-users] Tuning ext2/3 filesystem options">pzb at novell.com
       </A><BR>
    <I>Fri Aug 29 12:25:10 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000823.html">[Kiwi-users] Tuning ext2/3 filesystem options
</A></li>
        <LI>Next message: <A HREF="000826.html">[Kiwi-users] Tuning ext2/3 filesystem options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#825">[ date ]</a>
              <a href="thread.html#825">[ thread ]</a>
              <a href="subject.html#825">[ subject ]</a>
              <a href="author.html#825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2008-08-29 at 11:53 +0200, Marcus Sch&#228;fer wrote:
&gt;<i> &gt; I am working on building an image that uses ext3.  I would like to
</I>&gt;<i> &gt; change the Maximum mount count to -1 and Check interval to 0 to disable
</I>&gt;<i> &gt; automatic filesystem checks.  This requires running:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; tune2fs -i 0 -c -1 /path/to/device
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I cannot find a way to do this with kiwi.  Is there a way, or do I need
</I>&gt;<i> &gt; to do it by hand?
</I>&gt;<i> 
</I>&gt;<i> the short answer is, no there is no built in functionality in kiwi
</I>&gt;<i> to do this 
</I>&gt;<i> 
</I>&gt;<i> a) the boot code (linuxrc) calls a function named setupDefaultFstab().
</I>&gt;<i> b) another solution for you would be to write a service script which
</I>&gt;<i> c) another solution is to clone the boot image description you are
</I>&gt;<i>    using and patch the linuxrc code directly
</I>
I don't think any of these is right.  I don't think I was clear on what
I was asking, especially after reading the code more.

In KIWIImage.pm, setupEXT2 calls mke2fs with a number of hard coded
options.  A number of these are non-idea for various use cases.
Unfortunately a number of these can only be set at filesystem creation
time.  Even for those that are modifiable, when building LiveCDs and EC2
AMIs, there is no way to modify them before kiwi uses the filesystem.
It calls setupEXT2, fills it, then proceeds to bundle it into another
container (ISO filesystem or AMI).

Other than locally hacking my copy of KIWIImage.pm, how can I modify the
filesystem kiwi creates and then embeds in the ISO or AMI?

Thanks.
Peter


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000823.html">[Kiwi-users] Tuning ext2/3 filesystem options
</A></li>
	<LI>Next message: <A HREF="000826.html">[Kiwi-users] Tuning ext2/3 filesystem options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#825">[ date ]</a>
              <a href="thread.html#825">[ thread ]</a>
              <a href="subject.html#825">[ subject ]</a>
              <a href="author.html#825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
