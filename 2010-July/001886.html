<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] suse-oem-preload not working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20suse-oem-preload%20not%20working&In-Reply-To=%3C201007051132.35359.javier%40opensuse.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001880.html">
   <LINK REL="Next"  HREF="001887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] suse-oem-preload not working</H1>
    <B>Javier Llorente</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20suse-oem-preload%20not%20working&In-Reply-To=%3C201007051132.35359.javier%40opensuse.org%3E"
       TITLE="[Kiwi-users] suse-oem-preload not working">javier at opensuse.org
       </A><BR>
    <I>Mon Jul  5 11:32:28 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001880.html">[Kiwi-users] suse-oem-preload not working
</A></li>
        <LI>Next message: <A HREF="001887.html">[Kiwi-users] suse-oem-preload not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1886">[ date ]</a>
              <a href="thread.html#1886">[ thread ]</a>
              <a href="subject.html#1886">[ subject ]</a>
              <a href="author.html#1886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jueves, 1 de Julio de 2010 17:00:56 Marcus Sch&#228;fer escribi&#243;:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; yep and the problem is that parted version. You build your image on
</I>&gt;<i> &gt; &gt; 11.3 with the new parted. this means the partition starts at sector
</I>&gt;<i> &gt; &gt; 2048 but you built a 11.2 image which has the old parted installed.
</I>&gt;<i> &gt; &gt; The old parted by default starts the partition at sector 63. When kiwi
</I>&gt;<i> &gt; &gt; repartitions the partition starting at sector 2048 with the old parted
</I>&gt;<i> &gt; &gt; it destroys the filesystem inside. This causes subsequent errors in
</I>&gt;<i> &gt; &gt; the kiwi code (can't mount it, can't resize it, can't use it,
</I>&gt;<i> &gt; &gt; exception)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; New version, new challenges in this case.
</I>&gt;<i> 
</I>&gt;<i> Ok, now attached is a patch which should fix it. Would be great if
</I>&gt;<i> you can test it. The patch should change the parted arguments so
</I>&gt;<i> that it always uses a sector based value as start point. I tested
</I>&gt;<i> it with a standard oem but not with a split oem as you use
</I>
Ok. I'll happily test your patch.

I have also wanted to say that I have successfully built my oem image on 
11.2 However, there are some issues:

1) I have a config-yast-firstboot.xml on my kiwi directory (and yast2-
firstboot is installed), nevertheless kiwi doesn't enable the firstboot 
service.

2) I am still getting the language question when booting up for the first 
time.

3) GRUB's default language is English. Deutsch is on the list though. It's 
ignoring my gfxboot custom branding rpm package's gfxboot --add-
languages de_DE --default-language de_DE (%post section).


Log files:

<A HREF="http://pastebin.de/8019">http://pastebin.de/8019</A>
<A HREF="http://pastebin.de/8020">http://pastebin.de/8020</A>


Some questions:

Is it possible to use kernel-desktop on a standard oem image? I have tried 
but I got messages like modules.dep wasn't found and things like made 
networkmanager to be non functional on first boot. Perhaps I'm doing 
something wrong.

Last question: is it possible to hide first boot's message by default? I would 
make pressing  esc showing those messages.

Thanks!
-- 
Javier Llorente
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/kiwi-users/attachments/20100705/9e0f9cef/attachment.pgp">https://lists.berlios.de/pipermail/kiwi-users/attachments/20100705/9e0f9cef/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001880.html">[Kiwi-users] suse-oem-preload not working
</A></li>
	<LI>Next message: <A HREF="001887.html">[Kiwi-users] suse-oem-preload not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1886">[ date ]</a>
              <a href="thread.html#1886">[ thread ]</a>
              <a href="subject.html#1886">[ subject ]</a>
              <a href="author.html#1886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
