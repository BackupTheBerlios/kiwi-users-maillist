<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] suse-oem-preload not working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20suse-oem-preload%20not%20working&In-Reply-To=%3C20100701063756.GA22449%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001875.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] suse-oem-preload not working</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20suse-oem-preload%20not%20working&In-Reply-To=%3C20100701063756.GA22449%40D7.ddts.net%3E"
       TITLE="[Kiwi-users] suse-oem-preload not working">ms at novell.com
       </A><BR>
    <I>Thu Jul  1 08:37:56 CEST 2010</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001875.html">[Kiwi-users] suse-oem-preload not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1873">[ date ]</a>
              <a href="thread.html#1873">[ thread ]</a>
              <a href="subject.html#1873">[ subject ]</a>
              <a href="author.html#1873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> On Mi&#233;rcoles, 30 de Junio de 2010 16:56:30 Marcus Sch&#228;fer escribi&#243;:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Done. Here's the log for the suse-oem-preload/11.2 based image:
</I>&gt;<i> &gt; &gt; <A HREF="http://pastebin.de/7926">http://pastebin.de/7926</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks. first the language question. If you have set de_DE which you
</I>&gt;<i> &gt; had when I saw the log the only reason why you see the language 
</I>&gt;<i> selection
</I>&gt;<i> &gt; dialog is if the bootloader doesn't set lang=... to the kernel commandline
</I>&gt;<i> &gt; Can you please check the following in your kiwidebug shell:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    cat /proc/cmdline
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; what are the contents ?
</I>&gt;<i> 
</I>&gt;<i> vga=0x314 loader=grub splash=silent COMBINED_IMAGE=yes showopts 
</I>&gt;<i> kiwidebug=1
</I>
Thanks, no lang=... variable. Steffen could you please take a look
at this one ? The appliance was built on 11.3 and somehow the lang
variable is not part of the cmdline which works with 11.2. Did you
change anything in here ?

Thanks

&gt;<i> &gt; yep and the problem is that parted version. You build your image on
</I>&gt;<i> &gt; 11.3 with the new parted. this means the partition starts at sector 2048
</I>&gt;<i> &gt; but you built a 11.2 image which has the old parted installed. The old
</I>&gt;<i> &gt; parted by default starts the partition at sector 63. When kiwi repartitions
</I>&gt;<i> &gt; the partition starting at sector 2048 with the old parted it destroys the
</I>&gt;<i> &gt; filesystem inside. This causes subsequent errors in the kiwi code
</I>&gt;<i> &gt; (can't mount it, can't resize it, can't use it, exception)
</I>&gt;<i> 
</I>&gt;<i> New version, new challenges in this case.
</I>&gt;<i> 
</I>&gt;<i> &gt; It's what I wrote I have a solution the other way round (build images
</I>&gt;<i> &gt; on hosts with old parted including new parted) but I don't have a
</I>&gt;<i> &gt; solution for this problem so far.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If anybody has a good idea I'm eager to hear it
</I>&gt;<i> 
</I>&gt;<i> I am not an expert but perhaps having some kind of mini system for kiwi 
</I>&gt;<i> (independent of openSUSE) which includes some system utilities like 
</I>&gt;<i> parted, would help.
</I>
In that case also the building _and_ the boot of the image must
be done by this toolset. Could be very hard to maintain and could
be incompatible with newer libs and friends so they also should
be statically linked. Additionally there is this certification of
appliances and that will only work with the tools by the certified
distro... a nightmare... need to think more on that

Thanks

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001875.html">[Kiwi-users] suse-oem-preload not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1873">[ date ]</a>
              <a href="thread.html#1873">[ thread ]</a>
              <a href="subject.html#1873">[ subject ]</a>
              <a href="author.html#1873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
