<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Netboot and diskless - config.default
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Netboot%20and%20diskless%20-%20config.default&In-Reply-To=%3C20080225140052.GA9267%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000360.html">
   <LINK REL="Next"  HREF="000364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Netboot and diskless - config.default</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Netboot%20and%20diskless%20-%20config.default&In-Reply-To=%3C20080225140052.GA9267%40D7.ddts.net%3E"
       TITLE="[Kiwi-users] Netboot and diskless - config.default">ms at suse.de
       </A><BR>
    <I>Mon Feb 25 15:00:53 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000360.html">[Kiwi-users] Netboot and diskless - config.default
</A></li>
        <LI>Next message: <A HREF="000364.html">[Kiwi-users] Netboot and diskless - config.default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#363">[ date ]</a>
              <a href="thread.html#363">[ thread ]</a>
              <a href="subject.html#363">[ subject ]</a>
              <a href="author.html#363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> &gt; &gt; I have managed to build the basic netboot initrd &amp; kernel for suse 10.3
</I>&gt;<i> &gt; &gt; using the default config.xml in kiwi/image/netboot/suse-10.3 &amp;
</I>&gt;<i> &gt; &gt; --add-profile diskless (ended up having to create an openSUSE 10.3 vm to
</I>&gt;<i> &gt; &gt; build this on due to issues on my AMD64 box).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The diskless profile intentionally does not include the kernel
</I>&gt;<i> &gt; ramdisk module. You should consider to use the default profile
</I>&gt;<i> 
</I>&gt;<i> Except it also includes all of the extra nic drivers.
</I>
Jap, if you don't want that you need to make sure that the rd module
is part of your initrd. This should be done by the following two
lines in the drivers section:

	&lt;file name=&quot;drivers/block/loop.ko&quot;/&gt;
	&lt;file name=&quot;drivers/block/rd.ko&quot;/&gt;

&gt;<i> It was a different initrd to the original boot one, but I didn't
</I>&gt;<i> actually understand that the netboot initrd was actually just a
</I>&gt;<i> prep/loader, see next comment...
</I>
jap I found that's always the first problem people deal with :)
I tried to face that in the documentation but I think It isn't
good enough. So yes when creating an image you always have two
parts:

   1) control how to boot, that's the boot image the initrd
   2) define what the real system should be able to do, that's the system image

The important thing is that the kernels of both images _must_ fit
together which is the reason why kiwi can build the boot image _automatically_
when the system image is going to be created. Which boot image this is
is defined by the boot=... attribute. But in case of a PXE boot system
the kernel the initrd(boot image) and the system image are single
entities which exists in different directories on the boot server. So
a bit more understanding of what is going on seems to be required as this
is outside of kiwi control. I tried to make it easy but it's hard :)

&gt;<i> I had played a little more and almost come to the same understanding. I
</I>&gt;<i> was assuming that the diskless option was similar to loading an initrd
</I>&gt;<i> for a thinclient image like thinstation or pxes.... Not
</I>&gt;<i> 
</I>&gt;<i> The netboot IS a very good deployment option that allows for the
</I>&gt;<i> configuration of hardware etc. and then deployment of the image.
</I>&gt;<i> 
</I>&gt;<i> I'm pretty sure that the Wyse one gives me enough info to make the next
</I>&gt;<i> step.
</I>&gt;<i> 
</I>&gt;<i> A little more playing and then expect a whole group of extra
</I>&gt;<i> questions :-)
</I>
yeah man good luck :)

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000360.html">[Kiwi-users] Netboot and diskless - config.default
</A></li>
	<LI>Next message: <A HREF="000364.html">[Kiwi-users] Netboot and diskless - config.default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#363">[ date ]</a>
              <a href="thread.html#363">[ thread ]</a>
              <a href="subject.html#363">[ subject ]</a>
              <a href="author.html#363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
