<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] cache for downloaded packages?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20cache%20for%20downloaded%20packages%3F&In-Reply-To=%3C1202330446.30339.6.camel%40nova.jorgensenfamily.us%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000294.html">
   <LINK REL="Next"  HREF="000296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] cache for downloaded packages?</H1>
    <B>Andrew Jorgensen</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20cache%20for%20downloaded%20packages%3F&In-Reply-To=%3C1202330446.30339.6.camel%40nova.jorgensenfamily.us%3E"
       TITLE="[Kiwi-users] cache for downloaded packages?">ajorgensen at novell.com
       </A><BR>
    <I>Wed Feb  6 21:40:46 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000294.html">[Kiwi-users] cache for downloaded packages?
</A></li>
        <LI>Next message: <A HREF="000296.html">[Kiwi-users] cache for downloaded packages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2008-02-06 at 21:10 +0100, Richard Bos wrote:
&gt;<i> Op Wednesday 06 February 2008 20:37:43 schreef u:
</I>&gt;<i> &gt; &gt; Is the assumption correct?  If so the copy and rsync (between the cache
</I>&gt;<i> &gt; &gt; and store need to be done twice).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would like to change this so that the smart cache directory of the
</I>&gt;<i> &gt; first bootstrap call is also inside the chroot. Currently the bootstrap
</I>&gt;<i> &gt; cache is in /var/cache/kiwi/smart-$$ but I would like to have it in
</I>&gt;<i> &gt; $chroot/var/lib/smart
</I>&gt;<i> 
</I>&gt;<i> Why?  When the kiwi image needs to be recreated, the $chroot must be removed 
</I>&gt;<i> (at least that is what kiwi --prepare tells me).
</I>&gt;<i> 
</I>&gt;<i> Why not have the $chroot/var/lib/smart outside of the $chroot environment, 
</I>&gt;<i> with a symlink?  Something like:
</I>&gt;<i> 
</I>&gt;<i> # ln -s $chroot/var/lib/smart /var/cache/kiwi-image-name
</I>&gt;<i> Now when $chroot is removed, the packages are still there :) (If they are not 
</I>&gt;<i> removed by smart).
</I>
A symlink wouldn't work for reasons that should be obvious but having
the cache outside the chroot for both stages would be beneficial,
especially if the cache could stick around between runs.  Having just
one cache would eliminate one refresh at the very least.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000294.html">[Kiwi-users] cache for downloaded packages?
</A></li>
	<LI>Next message: <A HREF="000296.html">[Kiwi-users] cache for downloaded packages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#295">[ date ]</a>
              <a href="thread.html#295">[ thread ]</a>
              <a href="subject.html#295">[ subject ]</a>
              <a href="author.html#295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
