<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Install into existing root dir with kiwi ?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2013-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Install%20into%20existing%20root%20dir%20with%20kiwi%20%3F&In-Reply-To=%3C20130203211337.GA16856%40idefix.fritz.box%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003057.html">
   <LINK REL="Next"  HREF="003060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Install into existing root dir with kiwi ?</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Install%20into%20existing%20root%20dir%20with%20kiwi%20%3F&In-Reply-To=%3C20130203211337.GA16856%40idefix.fritz.box%3E"
       TITLE="[Kiwi-users] Install into existing root dir with kiwi ?">ms at suse.de
       </A><BR>
    <I>Sun Feb  3 22:13:37 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="003057.html">[Kiwi-users] Install into existing root dir with kiwi ?
</A></li>
        <LI>Next message: <A HREF="003060.html">[Kiwi-users] Install into existing root dir with kiwi ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3059">[ date ]</a>
              <a href="thread.html#3059">[ thread ]</a>
              <a href="subject.html#3059">[ subject ]</a>
              <a href="author.html#3059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks for taking the time to invest into the kiwi code

&gt;<i> Apparently kiwi assumes zypper to be already installed
</I>&gt;<i> in the /existing/root, but this is not the case for me.
</I>&gt;<i> Therefore I propose the attached patch.
</I>
I'm afraid but with this patch you are activating the bootstraping
code which only runs to build a new root system from an empty
space. Thus this code will also create a new rpm database which
causes the overriding of packages already installed. There are
also more things done which you don't want inside the existing
tree.

The bootstraping part is definitly done if you provide an
existing tree and you are right there is also the expectation
that the package manager which has setup that tree is still
part of it.

So I'm sorry but I can't change this. You should make sure
your tree provides zypper, you can uninstall it when the tree
is complete even though I wouldn't recommend that

&gt;<i> &gt; I understand but unfortunately I don't like to change
</I>&gt;<i> &gt; the default policy zypper uses for caching packages prior
</I>&gt;<i> &gt; to the installation. I would be fine with a patch which
</I>&gt;<i> &gt; allows that as a commandline option ;)
</I>&gt;<i> ...working on it.
</I>
Thanks, I saw your second patch and will review it asap
On a short look I didn't see why that can't go in

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF:  Jeff Hawn,Jennifer Guild, Felix Imend&#246;rffer                  
 HRB: 21284 (AG N&#252;rnberg)       Germany
 <A HREF="http://www.suse.de">http://www.suse.de</A>
 -------------------------------------------------------
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003057.html">[Kiwi-users] Install into existing root dir with kiwi ?
</A></li>
	<LI>Next message: <A HREF="003060.html">[Kiwi-users] Install into existing root dir with kiwi ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3059">[ date ]</a>
              <a href="thread.html#3059">[ thread ]</a>
              <a href="subject.html#3059">[ subject ]</a>
              <a href="author.html#3059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
