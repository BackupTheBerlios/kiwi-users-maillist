<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Root password doesn't work
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Root%20password%20doesn%27t%20work&In-Reply-To=%3C20090512141744.GB6975%40idefix.dms.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001111.html">
   <LINK REL="Next"  HREF="001112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Root password doesn't work</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Root%20password%20doesn%27t%20work&In-Reply-To=%3C20090512141744.GB6975%40idefix.dms.net%3E"
       TITLE="[Kiwi-users] Root password doesn't work">ms at novell.com
       </A><BR>
    <I>Tue May 12 16:17:44 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001111.html">[Kiwi-users] Root password doesn't work
</A></li>
        <LI>Next message: <A HREF="001112.html">[Kiwi-users] Problem booting image
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1116">[ date ]</a>
              <a href="thread.html#1116">[ thread ]</a>
              <a href="subject.html#1116">[ subject ]</a>
              <a href="author.html#1116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Still stuck in this problem...
</I>&gt;<i> some details:
</I>&gt;<i> 1) /etc/passwd looks fine
</I>&gt;<i> 2) /etc/shadow not changed ( the password is still the one in config.xml )
</I>&gt;<i> 3) cannot change password using &quot;passwd&quot;, error msg: &quot;passwd file is
</I>&gt;<i> already locked, cannot lock...blabla&quot;
</I>&gt;<i> 4) cannot find any .lock file in /etc, except for the &quot;.pwd.lock&quot;.
</I>&gt;<i> 5) delete the /etc/.pwd.lock file, then passwd can be changed successfully...
</I>
works fine for me. So what you should do:

1) don't store any passwd/shadow file as part of the overlay files
   in your image description

2) set the root password in config.xml as follows:


   &lt;users group=&quot;root&quot;&gt;
        &lt;user 
            pwd=&quot;---crypted-password-string---&quot;
            home=&quot;/root&quot;
            name=&quot;root&quot;
        /&gt;
    &lt;/users&gt;

3) a password can be created by

   kiwi --createpassword
 
   or by any other tool which can create shadow supported
   password strings

4) of course if you run autoyast modules which overwrites
   the situation above you might end up with another password

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001111.html">[Kiwi-users] Root password doesn't work
</A></li>
	<LI>Next message: <A HREF="001112.html">[Kiwi-users] Problem booting image
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1116">[ date ]</a>
              <a href="thread.html#1116">[ thread ]</a>
              <a href="subject.html#1116">[ subject ]</a>
              <a href="author.html#1116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
