<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] Problems creating an OpenSuse 11.4 installation	disc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Problems%20creating%20an%20OpenSuse%2011.4%20installation%0A%09disc&In-Reply-To=%3CCAA843w-MQs52%2BdWy64EZUnDjB9Sc0_52hHWwumesFNXT-r-mPQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002834.html">
   <LINK REL="Next"  HREF="002835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] Problems creating an OpenSuse 11.4 installation	disc</H1>
    <B>Lluis Garrido</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20Problems%20creating%20an%20OpenSuse%2011.4%20installation%0A%09disc&In-Reply-To=%3CCAA843w-MQs52%2BdWy64EZUnDjB9Sc0_52hHWwumesFNXT-r-mPQ%40mail.gmail.com%3E"
       TITLE="[Kiwi-users] Problems creating an OpenSuse 11.4 installation	disc">lgoster at gmail.com
       </A><BR>
    <I>Tue Jul 19 12:55:01 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002834.html">[Kiwi-users] Problems creating an OpenSuse 11.4 installation	disc
</A></li>
        <LI>Next message: <A HREF="002835.html">[Kiwi-users] Facing Problems with KIWI! Help needed!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2837">[ date ]</a>
              <a href="thread.html#2837">[ thread ]</a>
              <a href="subject.html#2837">[ subject ]</a>
              <a href="author.html#2837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody,

I've followed your instructions and thus been able to create an OpenSuse
11.4 ISO with
an updated kernel. The image boots perfectly from my PC at home, but the
kernel panics
when booting the USB from my PC at work (on which OpenSuse 11.3 is currently
running).
So there may be still a problem in the kernel (this problem does not appear
when booting
OpenSuse 12.1 Milestone 2).

Thanks a lot for your help,

Best,

Luis

2011/7/17 Marcus Sch&#228;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">ms at suse.de</A>&gt;

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I've been able to create an ISO that includes the updated kernel of
</I>&gt;<i> OpenSuse
</I>&gt;<i> &gt; 11.4,
</I>&gt;<i> &gt; i.e. kernel.2.6.37.6-0.5-desktop.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, when booting from USB at home I get this error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; FATAL: /lib/modules/2.6.37-0.5-desktop/modules.dep: no such file or
</I>&gt;<i> &gt; directory
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The modules.dep is in fact in the image the Kiwi system has generated:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; $ pwd
</I>&gt;<i> &gt; /tmp/myiso
</I>&gt;<i> &gt; $ cd lib/modules/2.6.37.6-0.5-desktop/
</I>&gt;<i> &gt; $ ls -l
</I>&gt;<i> &gt; total 2472
</I>&gt;<i> &gt; drwxr-xr-x 12 root root   4096 14 jul 19:00 kernel
</I>&gt;<i> &gt; -rw-r--r--  1 root root 602670 14 jul 19:00 modules.alias
</I>&gt;<i> &gt; -rw-r--r--  1 root root 580626 14 jul 19:00 modules.alias.bin
</I>&gt;<i> &gt; -rw-r--r--  1 root root   4683 26 abr 21:18 modules.builtin
</I>&gt;<i> &gt; -rw-r--r--  1 root root   6220 14 jul 19:00 modules.builtin.bin
</I>&gt;<i> &gt; -rw-r--r--  1 root root 268582 14 jul 19:00 modules.dep
</I>&gt;<i> &gt; -rw-r--r--  1 root root 396363 14 jul 19:00 modules.dep.bin
</I>&gt;<i> &gt; -rw-r--r--  1 root root    248 14 jul 19:00 modules.devname
</I>&gt;<i> &gt; -rw-r--r--  1 root root 105461 26 abr 21:18 modules.order
</I>&gt;<i> &gt; -rw-r--r--  1 root root    131 14 jul 19:00 modules.softdep
</I>&gt;<i> &gt; -rw-r--r--  1 root root 231606 14 jul 19:00 modules.symbols
</I>&gt;<i> &gt; -rw-r--r--  1 root root 295855 14 jul 19:00 modules.symbols.bin
</I>&gt;<i> &gt; drwxr-xr-x  2 root root   4096 14 jul 19:00 systemtap
</I>&gt;<i> &gt; drwxr-xr-x  2 root root   4096 14 jul 19:00 vdso
</I>&gt;<i> &gt; $
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any reason for which the modules.dep has not been included ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Here are the changes I did to config.xml of the template suse-live-iso
</I>&gt;<i> just
</I>&gt;<i> &gt; in case...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     &lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot;&gt;
</I>&gt;<i> &gt;         &lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot;
</I>&gt;<i> &gt; bootdelete=&quot;true&quot;/&gt;
</I>&gt;<i> &gt;         &lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot;
</I>&gt;<i> &gt; bootdelete=&quot;true&quot;/&gt;
</I>&gt;<i> &gt;         &lt;package name=&quot;kernel-desktop&quot; bootinclude=&quot;true&quot;
</I>&gt;<i> &gt; bootdelete=&quot;true&quot;/&gt; ## added
</I>&gt;<i> &gt;         &lt;package
</I>&gt;<i> &gt; name=&quot;kernel-desktop&quot;/&gt;
</I>&gt;<i> &gt; ## modifed
</I>&gt;<i> &gt;         &lt;package name=&quot;ifplugd&quot;/&gt;
</I>&gt;<i> &gt;         &lt;package name=&quot;vim&quot;/&gt;
</I>&gt;<i> &gt;          &lt;package
</I>&gt;<i> &gt; name=&quot;yast2-live-installer&quot;/&gt;
</I>&gt;<i> &gt; ## added
</I>&gt;<i> &gt;         &lt;opensusePattern name=&quot;default&quot;/&gt;
</I>&gt;<i> &gt;         &lt;opensusePattern
</I>&gt;<i> &gt; name=&quot;gnome&quot;/&gt;                                                      ##
</I>&gt;<i> &gt; modified
</I>&gt;<i> &gt;     &lt;/packages&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Many thanks for your time,
</I>&gt;<i>
</I>&gt;<i> yes you forgot one important thing:
</I>&gt;<i>
</I>&gt;<i>    &lt;type image=&quot;iso&quot; .... bootkernel=&quot;desktop&quot;/&gt;
</I>&gt;<i>
</I>&gt;<i> With your changes so far you told the system to install the
</I>&gt;<i> desktop kernel but that doesn't have an effect on the boot image
</I>&gt;<i> (the initrd). As result you have installed the desktop kernel
</I>&gt;<i> in the system image but the default kernel in the initrd.
</I>&gt;<i> Such kernel mismatches causes strange effects.
</I>&gt;<i>
</I>&gt;<i> So if you want another than the default kernel to be used
</I>&gt;<i> you should do it the following way:
</I>&gt;<i>
</I>&gt;<i> 1) change &lt;package name=&quot;kernel-default&quot;/&gt; to the kernel
</I>&gt;<i>   you want. In your case
</I>&gt;<i>
</I>&gt;<i>   &lt;package name=&quot;kernel-desktop&quot;/&gt;
</I>&gt;<i>
</I>&gt;<i> 2) add the appropriate bootkernel attribute to the &lt;type&gt;
</I>&gt;<i>   you are about to build. I guess you want to build the iso
</I>&gt;<i>   type so in your case
</I>&gt;<i>
</I>&gt;<i>   &lt;type image=&quot;iso&quot; primary=&quot;true&quot; boot=&quot;isoboot/suse-11.4&quot; hybrid=&quot;true&quot;
</I>&gt;<i> flags=&quot;clic&quot; bootkernel=&quot;desktop&quot;/&gt;
</I>&gt;<i>
</I>&gt;<i> That's it you don't need more. I saw you added bootinclude=&quot;true&quot;
</I>&gt;<i> that's not required because the kernel setup is all part of the
</I>&gt;<i> selected bootkernel=&quot;...&quot;
</I>&gt;<i>
</I>&gt;<i> Hope that fixes it
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Marcus
</I>&gt;<i> --
</I>&gt;<i>  Public Key available
</I>&gt;<i>  gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
</I>&gt;<i>  -------------------------------------------------------
</I>&gt;<i>  Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
</I>&gt;<i>  Tel: 0911-740 53 0             Maxfeldstrasse 5
</I>&gt;<i>  FAX: 0911-740 53 479           D-90409 N&#252;rnberg
</I>&gt;<i>  GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
</I>&gt;<i>  <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
</I>&gt;<i>  -------------------------------------------------------
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/kiwi-users/attachments/20110719/6c4089d9/attachment.html">https://lists.berlios.de/pipermail/kiwi-users/attachments/20110719/6c4089d9/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002834.html">[Kiwi-users] Problems creating an OpenSuse 11.4 installation	disc
</A></li>
	<LI>Next message: <A HREF="002835.html">[Kiwi-users] Facing Problems with KIWI! Help needed!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2837">[ date ]</a>
              <a href="thread.html#2837">[ thread ]</a>
              <a href="subject.html#2837">[ subject ]</a>
              <a href="author.html#2837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
