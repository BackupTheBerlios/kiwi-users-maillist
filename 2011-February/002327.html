<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] /etc/hosts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20/etc/hosts&In-Reply-To=%3C4D5AB289.7080108%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002326.html">
   <LINK REL="Next"  HREF="002328.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] /etc/hosts</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20/etc/hosts&In-Reply-To=%3C4D5AB289.7080108%40novell.com%3E"
       TITLE="[Kiwi-users] /etc/hosts">rschweikert at novell.com
       </A><BR>
    <I>Tue Feb 15 18:06:17 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002326.html">[Kiwi-users] /etc/hosts
</A></li>
        <LI>Next message: <A HREF="002328.html">[Kiwi-users] /etc/hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2327">[ date ]</a>
              <a href="thread.html#2327">[ thread ]</a>
              <a href="subject.html#2327">[ subject ]</a>
              <a href="author.html#2327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 02/15/2011 11:53 AM, Marcus Sch&#228;fer wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;&gt;<i> is there any reason why the root/etc/hosts is not copied to the
</I>&gt;&gt;<i> image in the kiwi --prepare step? It is overwritten in
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /usr/share/kiwi/modules/KIWIRoot.pm
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> at
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;cleanup temporary copy of hosts&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> for some strange reason. How can I put my own hosts settings to the image?
</I>&gt;<i> 
</I>&gt;<i> The reason is we assume that the /etc/hosts file of your building
</I>&gt;<i> host is 'correct' and that's why we make that configuration (among others)
</I>&gt;<i> available as long as the prepare step runs in order to have it when
</I>&gt;<i> kiwi chroot into it
</I>&gt;<i> 
</I>&gt;<i> Hmm, you are right it prevents you from having your own version as
</I>&gt;<i> long as kiwi prepare runs. You can create you own hosts file in
</I>&gt;<i> 
</I>&gt;<i>   images.sh
</I>&gt;<i> 
</I>&gt;<i> though. 
</I>
Yes, but we shouldn't really delete any files that are part of the
overlay tree. The cleanup method should be called prior to the overlay
tree being copied to the unpacked image tree, rather than after.

&gt;<i> This script is called in kiwi create step.
</I>&gt;<i> 
</I>&gt;<i> Do you need your own hosts file while prepare runs ? 
</I>
Probably not during the prepare step, but in the final image, thus the
file in the overlay tree.

IMHO this is a bug.

Robert

--
Robert Schweikert                           MAY THE SOURCE BE WITH YOU
Novell-IBM Software Integration Center                LINUX
Tech Lead
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at novell.com</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-users">rschweikert at ca.ibm.com</A>
781-464-8147

Novell
Making IT Work As One


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002326.html">[Kiwi-users] /etc/hosts
</A></li>
	<LI>Next message: <A HREF="002328.html">[Kiwi-users] /etc/hosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2327">[ date ]</a>
              <a href="thread.html#2327">[ thread ]</a>
              <a href="subject.html#2327">[ subject ]</a>
              <a href="author.html#2327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
