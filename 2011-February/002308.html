<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-users] kiwi preload image failure
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20kiwi%20preload%20image%20failure&In-Reply-To=%3C20110210101352.GA27400%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002307.html">
   <LINK REL="Next"  HREF="002309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-users] kiwi preload image failure</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-users%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-users%5D%20kiwi%20preload%20image%20failure&In-Reply-To=%3C20110210101352.GA27400%40D7.ddts.net%3E"
       TITLE="[Kiwi-users] kiwi preload image failure">ms at suse.de
       </A><BR>
    <I>Thu Feb 10 11:13:52 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002307.html">[Kiwi-users] kiwi preload image failure
</A></li>
        <LI>Next message: <A HREF="002309.html">[Kiwi-users] kiwi preload image failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2308">[ date ]</a>
              <a href="thread.html#2308">[ thread ]</a>
              <a href="subject.html#2308">[ subject ]</a>
              <a href="author.html#2308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> &gt; &gt;   sda2: EXT4-fs error: double free of inode 0's block XXXX, 0 in gd
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This looks pretty much like a disk or filesystem error. Do you see
</I>&gt;<i> &gt; the same issue when using ext3 ?                
</I>&gt;<i> 
</I>&gt;<i> Is it enough to make the change in my config.xml? I now have this:
</I>&gt;<i> 
</I>&gt;<i> &lt;type image=&quot;split&quot; fsreadwrite=&quot;ext4&quot; fsreadonly=&quot;squashfs&quot; boot=&quot;oemboot/suse-11.2&quot; installstick=&quot;true&quot;&gt;
</I>
sure change it to:

  &lt;type image=&quot;split&quot; fsreadwrite=&quot;ext3&quot; fsreadonly=&quot;squashfs&quot; boot=&quot;oemboot/suse-11.2&quot; installstick=&quot;true&quot;&gt;

and call kiwi prepare and kiwi create again. If you have the prepared
tree laying around somewhere you can also skip the kiwi prepare call
but you need to change the xml file inside _that_ tree then !

&gt;<i> I get a bit confused about which spec is for the stick/iso, and which is
</I>&gt;<i> for the target that will be installed on some new system. I would
</I>&gt;<i> imagine that the spec above is for the stick, not the image that gets
</I>&gt;<i> copied. Or?
</I>
It's for both. It means create the split OS image and also create
an installation stick image including that OS image

&gt;<i> I have now tried the pristine original
</I>&gt;<i> examples/suse-11.2/suse-oem-preload. The result is exactly the same.
</I>
Again I don't think this is an imaging issue. To me it looks like
a ext4 but in combination with resize2fs.

&gt;<i> I have now let it run longer, and I see that the error messages do
</I>&gt;<i> eventually stop. It is stopped asking for the runlevel. So obviously
</I>&gt;<i> something has gone bad.
</I>
If you see problems like the one above you can't rely on your
operating system anymore. All kinds of crap can happen if the
filesystem screws up. What you saw after the broken resize operation
are all after effects of the broken filesystem.

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002307.html">[Kiwi-users] kiwi preload image failure
</A></li>
	<LI>Next message: <A HREF="002309.html">[Kiwi-users] kiwi preload image failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2308">[ date ]</a>
              <a href="thread.html#2308">[ thread ]</a>
              <a href="subject.html#2308">[ subject ]</a>
              <a href="author.html#2308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-users">More information about the Kiwi-users
mailing list</a><br>
</body></html>
